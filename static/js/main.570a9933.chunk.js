(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{316:function(e,t,n){e.exports=n(450)},321:function(e,t,n){},322:function(e,t,n){},326:function(e,t,n){},354:function(e,t,n){},355:function(e,t,n){},356:function(e,t,n){},426:function(e,t,n){},427:function(e,t,n){},428:function(e,t,n){},450:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),o=n(98),c=n.n(o),i=(n(321),n(65)),s=(n(322),n(460)),u=n(459),l=n(308),f=n(463),m=n(465),d=n(464),p=n(107),h=n(115),g=n(304),b=(n(326),function(e){return r.a.createElement("div",{className:"Header",id:"puppy-header"},r.a.createElement(f.a,{bg:"white",variant:"light",expand:"lg"},r.a.createElement(f.a.Brand,{onClick:function(){return e.setIsShowVersion(!0)}},r.a.createElement("img",{src:"./image/logo.png",width:"25",height:"25",className:"d-inline-block align-top"})," Puppy"),r.a.createElement(m.a,{className:"mr-auto"},r.a.createElement(d.a,{title:"Courseware",id:"nav-dropdown-courses"},Object.keys(e.courses).map(function(t){var n=e.courses[t];return r.a.createElement(d.a,{title:n.title,id:"nav-dropdown-pages-".concat(n.title),drop:"right",key:n.title},n.list.map(function(e,n){return r.a.createElement(d.a.Item,{href:"?course=".concat(t,"#").concat(n),key:n},e.title)}))}))),r.a.createElement(g.a,{className:"puppy-background",onClick:e.setIsShowSetting},r.a.createElement(h.a,{icon:p.e}))))}),E=n(461),y=n(305),v=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{show:e.show,onHide:function(){return e.setShow(!1)}},r.a.createElement(E.a.Header,{closeButton:!0},r.a.createElement(E.a.Title,null,"Puppy")),r.a.createElement(E.a.Body,{style:{whiteSpace:"pre-line"}},r.a.createElement("p",null,"Version: ".concat(Object(y.puppy_version)())),r.a.createElement("p",null,"Browser: Google Chrome (OS X), Firefox"),r.a.createElement("p",null,"If you find some bugs or suggestions, please send issues in"," ",r.a.createElement("a",{href:"https://github.com/playpuppy/LIVE2019",target:"blank"},"GitHub"),"."))))},w=n(462),S=n(307),j=(n(354),function(e){return r.a.createElement(E.a,{show:e.show,onHide:function(){return e.setShow(!1)}},r.a.createElement(E.a.Header,{closeButton:!0},r.a.createElement(E.a.Title,null,"Puppy Setting")),r.a.createElement(w.a,{id:"puppy-setting",onSubmit:function(t){return e.submitValue(e.value),e.setShow(!1),t.preventDefault&&t.preventDefault(),!1}},r.a.createElement(w.a.Group,{controlId:"formCommand"},r.a.createElement(S.a,{value:e.value,onChange:function(t){return e.setValue(t.target.value)}}))))}),O=(n(355),n(356),function(e){return r.a.createElement("div",{className:"PuppyConsoleLine"},r.a.createElement("span",null,e.elements.map(function(e,t){return function(e,t){var n={};return e.color&&(n.color=e.color),e.backgroundColor&&(n.backgroundColor=e.backgroundColor),r.a.createElement("span",{key:t,style:n},e.value)}(e,t)})))}),C=function(e){return r.a.createElement("div",{className:"PuppyConsole"},e.value.map(function(e,t){return r.a.createElement(O,{key:t,elements:e})}))},k=function(e){return r.a.createElement("div",{id:"puppy-footer"},r.a.createElement(g.a,{className:"puppy-background",onClick:function(){return e.play()}},r.a.createElement(h.a,{icon:p.h})," Play"),r.a.createElement(g.a,{className:"puppy-background",onClick:function(){return e.fullscreen()}},r.a.createElement(h.a,{icon:p.f})),r.a.createElement(g.a,{className:"puppy-background",onClick:function(){return e.setIsCourseVisible(!e.isCourseVisible)}},r.a.createElement(h.a,{icon:e.isCourseVisible?p.b:p.a})),r.a.createElement(g.a,{className:"puppy-background",style:{paddingRight:"1em",paddingLeft:"0.4em"},onClick:function(){return e.setIsConsoleVisible(!e.isConsoleVisible)}},r.a.createElement(h.a,{size:"xs",icon:p.j,style:{verticalAlign:"top"}})))},I=function(e){var t=Object(a.useState)(null),n=Object(i.a)(t,2),o=n[0],c=n[1];return Object(a.useEffect)(function(){addEventListener("resize",function(){o&&(clearTimeout(o),c(null)),c(setTimeout(function(){var t=document.getElementById("puppy-screen").clientWidth,n=document.getElementById("puppy-screen").clientHeight;e.setSize(t,n)},300))})},[e.setSize]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"puppy-screen",onClick:function(){return e.setIsCourseVisible(!1)}}),r.a.createElement("div",{id:"puppy-console",style:{visibility:e.isConsoleVisible?"visible":"hidden"}},r.a.createElement(C,{value:e.consoleValue})),r.a.createElement(k,{isCourseVisible:e.isCourseVisible,isConsoleVisible:e.isConsoleVisible,setIsCourseVisible:e.setIsCourseVisible,setIsConsoleVisible:e.setIsConsoleVisible,play:e.play,fullscreen:e.fullscreen}))},x=n(309),T=n.n(x),V=(n(426),function(e){return r.a.createElement("div",{id:"editor-footer"},r.a.createElement(g.a,{className:"puppy-background",onClick:e.fontPlus},r.a.createElement(h.a,{icon:p.i})),r.a.createElement(g.a,{className:"puppy-background",onClick:e.fontMinus},r.a.createElement(h.a,{icon:p.g})))}),N=function(e){var t=Object(a.useState)(500),n=Object(i.a)(t,2),o=n[0],c=n[1],s=Object(a.useState)(500),u=Object(i.a)(s,2),l=u[0],f=u[1],m=Object(a.useState)(null),d=Object(i.a)(m,2),p=d[0],h=d[1],g={selectOnLineNumbers:!0,fontSize:e.fontSize,wordWrap:"on",lightbulb:{enabled:!0}};return Object(a.useEffect)(function(){addEventListener("resize",function(){p?clearTimeout(p):h(setTimeout(function(){c(document.getElementById("right-col").clientHeight),f(document.getElementById("right-col").clientWidth)},300))}),c(document.getElementById("right-col").clientHeight),f(document.getElementById("right-col").clientWidth)},[]),r.a.createElement("div",{id:"puppy-editor"},r.a.createElement(T.a,{width:l,height:o,language:"python",theme:e.theme,value:e.source,options:g,onChange:e.onChange,editorDidMount:e.editorDidMount}),r.a.createElement(V,{fontPlus:e.fontPlus,fontMinus:e.fontMinus}))},P=n(310),L=n(466),R=(n(427),n(428),function(e){return Object(a.useEffect)(function(){0!==e.course.list.length&&(e.fetchContent(e.coursePath,e.course.list[e.page].path),e.fetchSample(e.coursePath,e.course.list[e.page].path).then(function(t){e.play(t)()}))},[e.page,e.coursePath,e.course]),r.a.createElement("div",{id:"puppy-course",style:{visibility:e.visible?"visible":"hidden"}},r.a.createElement(L.a,{className:"course-all"},r.a.createElement(L.a.Header,{className:"course-header"},r.a.createElement(u.a,null,r.a.createElement(l.a,{className:"card-header-left",xs:6},e.course.list&&0!==e.course.list.length&&0!==e.page?r.a.createElement("a",{href:"#".concat(e.page-1)},r.a.createElement(h.a,{icon:p.c})," ".concat(e.course.list[e.page-1].title)):null),r.a.createElement(l.a,{className:"card-header-right",xs:6},e.course.list&&0!==e.course.list.length&&e.page!==e.course.list.length-1?r.a.createElement("a",{href:"#".concat(e.page+1)},"".concat(e.course.list[e.page+1].title," "),r.a.createElement(h.a,{icon:p.d})):null))),r.a.createElement(L.a.Body,{className:"course-body"},r.a.createElement("div",{className:"markdown-body",dangerouslySetInnerHTML:{__html:P(e.content)}}))))}),M="https://api.github.com/repos/playpuppy/course-demo/contents/",B=new Headers({Origin:"/playground"}),z=function(e){return fetch(e,{headers:B}).then(function(e){if(e.ok)return e.json();throw Error(e.status.toString())}).then(function(t){if(t.download_url)return fetch(t.download_url,{headers:B});throw Error("This path ".concat(e," is not file."))})},F=function(e,t){return z("".concat(M).concat(e,"/setting.json")).then(function(e){if(e.ok)return e.json()}).then(function(n){t[e]=n}).catch(function(e){console.log("ERR ".concat(e))})},q=function(e){return function(t,n){var a=window.sessionStorage.getItem("".concat(t).concat(n,"/sample.py"));return a?(e(a),Promise.resolve(a)):z("".concat(M).concat(t).concat(n,"/sample.py")).then(function(e){if(e.ok)return e.text();throw new Error(e.statusText)}).then(function(a){return e(a),window.sessionStorage.setItem("".concat(t).concat(n,"/sample.py"),a),a})}},H=n(311),A=function(e){return function(t,n){return e?e.resize(t,n):void 0}},D=function(e){return function(){if(e){var t=e.render.canvas;if(t)if(t.webkitRequestFullscreen)t.webkitRequestFullscreen();else if(t.mozRequestFullScreen)t.mozRequestFullScreen();else if(t.msRequestFullscreen)t.msRequestFullscreen();else{if(!t.requestFullscreen)return;t.requestFullscreen()}}}},W=n(78),_=function(e){return fetch("http://localhost:8888/api/option/".concat(e),{method:"POST"}).then(function(e){if(e.ok)return e.json()})},K=n(212);W.editor.defineTheme("error",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#ffEEEE"}}),W.languages.registerCodeActionProvider("python",{provideCodeActions:function(e,t,n,a){var r=[],o=!0,c=!1,i=void 0;try{for(var s,u=n.markers[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var l=s.value;switch(l.code){case"NLKeyValues":var f=l.source;f&&r.push(_(f).then(function(n){console.log(n);var a=Object.keys(n)[0],r="";return r="shape"==a?n[a]:"color"==a?'fillStyle="'.concat(n[a],'"'):"".concat(a,"=").concat("string"==typeof n[a]?'"'.concat(n[a],'"'):n[a]),{title:"\u3082\u3057\u304b\u3057\u3066\u300c".concat(r,"\u300d\u3067\u3059\u304b\uff1f"),edit:{edits:[{edits:[{range:t,text:r}],resource:e.uri}]},kind:"quickfix",isPreferred:!0}}))}}}catch(m){c=!0,i=m}finally{try{o||null==u.return||u.return()}finally{if(c)throw i}}return Promise.all(r)}}),W.languages.registerCompletionItemProvider("python",{provideCompletionItems:function(e,t,n,a){var r=e.getWordUntilPosition(t),o=new W.Range(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn),c=[];return["pi","sin","cos","tan","sqrt","log","log10","pow","hypot","gcd"].map(function(e){c.push({label:e,kind:W.languages.CompletionItemKind.Function,insertText:"".concat(e,"(${1})"),insertTextRules:W.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:o})}),["input","print","len","range","int","float","str"].map(function(e){c.push({label:e,kind:W.languages.CompletionItemKind.Function,insertText:"".concat(e,"(${1})"),insertTextRules:W.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:o})}),["random"].map(function(e){c.push({label:e,kind:W.languages.CompletionItemKind.Function,insertText:"".concat(e,"(${1})"),insertTextRules:W.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:o})}),["World","Circle","Rectangle","Polygon","Label"].map(function(e){c.push({label:e,kind:W.languages.CompletionItemKind.Constructor,insertText:"".concat(e,"(${1})"),insertTextRules:W.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:o})}),["width","height","isStatic","restitution","fillStyle","image","strokeStyle","lineWidth"].map(function(e){c.push({label:e,kind:W.languages.CompletionItemKind.Property,insertText:"".concat(e,"="),range:o})}),{suggestions:c}}}),W.languages.register({id:"puppyConsoleLanguage"}),W.languages.setMonarchTokensProvider("puppyConsoleLanguage",{tokenizer:{root:[[/"[^"]*"/,"string"]]}});var G=function(e,t,n,a,r,o,c){return function(i,s){e&&function(e,t,n){var a=e.getModel().findMatches("[\uff01\u3000\u201d\uff03\uff04\uff05\uff06\u2019\uff08\uff09\uff0a\uff0b\uff0c\uff0d\uff0e\uff0f\uff1a\uff1b\uff1c\uff1d\uff1e\uff1f\uff20\uff3b\uff3c\uffe5\uff3d\uff3e\uff3f\u2018\uff5b\uff5c\uff5d\uff5e\uffe3\uff21\uff22\uff23\uff24\uff25\uff26\uff27\uff28\uff29\uff2a\uff2b\uff2c\uff2d\uff2e\uff2f\uff30\uff31\uff32\uff33\uff34\uff35\uff36\uff37\uff38\uff39\uff3a\uff41\uff42\uff43\uff44\uff45\uff46\uff47\uff48\uff49\uff4a\uff4b\uff4c\uff4d\uff4e\uff4f\uff50\uff51\uff52\uff53\uff54\uff55\uff56\uff57\uff58\uff59\uff5a\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\uff19\uff10\uff61\uff62\uff63\uff64\uff65\uff66\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff71\uff72\uff73\uff74\uff75\uff76\uff77\uff78\uff79\uff7a\uff7b\uff7c\uff7d\uff7e\uff7f\uff80\uff81\uff82\uff83\uff84\uff85\uff86\uff87\uff88\uff89\uff8a\uff8b\uff8c\uff8d\uff89\uff8f\uff90\uff91\uff92\uff93\uff94\uff95\uff96\uff97\uff98\uff99\uff9a\uff9b\uff9c\uff9d\uff9e\uff9f]",!0,!0,!1,null,!1).map(function(e){return{range:e.range,options:{inlineClassName:"zenkakuClass"}}});n(e.deltaDecorations(t,a))}(e,n,a),t(i),o&&clearTimeout(o),r&&c(setTimeout(function(){r.load(i,!1)},500))}},U=function(e,t){return function(){t(Math.max(12,e-3))}},$=W.editor.setModelMarkers,J=function(e){switch(e){case"error":return W.MarkerSeverity.Error;case"info":return W.MarkerSeverity.Info;case"warning":return W.MarkerSeverity.Warning;case"hint":return W.MarkerSeverity.Hint}},Y=function(e){return function(t){return function(n){e&&$(e.getModel(),t,function(e){return e.map(function(e){return{severity:J(e.type),startLineNumber:e.row+1,startColumn:e.col,endLineNumber:e.row+1,endColumn:e.col+e.len,code:e.key,source:e.subject?e.subject:"",message:Object(K.messagefy)(e)}})}(n))}}},X=function(e){return function(t){if(e){var n=e.os,a=t.split(" "),r=a[0],o=a.slice(1);n.exec(r,o)}}},Q=n(312),Z=n(313),ee=function(){function e(){Object(Q.a)(this,e),this.isRun=!1}return Object(Z.a)(e,[{key:"run",value:function(e){var t=this;e(),setTimeout(function(){t.isRun&&t.run(e)},8e3)}},{key:"play",value:function(e){this.isRun?this.isRun=!1:(this.isRun=!0,this.run(e))}}]),e}(),te=function(e){var t,n,o,c,f=e.qs.course?e.qs.course:"course/TronShow",m=""!==e.hash?parseInt(e.hash.substr(1)):0,d=Object(a.useState)({}),p=Object(i.a)(d,2),h=p[0],g=p[1],E=Object(a.useState)(!1),y=Object(i.a)(E,2),w=y[0],S=y[1],O=Object(a.useState)(!1),C=Object(i.a)(O,2),k=C[0],x=C[1],T=Object(a.useState)({title:"",list:[]}),V=Object(i.a)(T,2),P=V[0],L=V[1],_=Object(a.useState)(""),K=Object(i.a)(_,2),$=K[0],J=K[1],Q=Object(a.useState)(null),Z=Object(i.a)(Q,2),te=Z[0],ne=Z[1],ae=Object(a.useState)(""),re=Object(i.a)(ae,2),oe=re[0],ce=re[1],ie=Object(a.useState)("vs"),se=Object(i.a)(ie,2),ue=se[0],le=se[1],fe=Object(a.useState)(24),me=Object(i.a)(fe,2),de=me[0],pe=me[1],he=Object(a.useState)(null),ge=Object(i.a)(he,2),be=ge[0],Ee=ge[1],ye=Object(a.useState)([]),ve=Object(i.a)(ye,2),we=ve[0],Se=ve[1],je=Object(a.useState)(!1),Oe=Object(i.a)(je,2),Ce=Oe[0],ke=Oe[1],Ie=Object(a.useState)(""),xe=Object(i.a)(Ie,2),Te=xe[0],Ve=xe[1],Ne=Object(a.useState)(!1),Pe=Object(i.a)(Ne,2),Le=Pe[0],Re=Pe[1],Me=Object(a.useState)([]),Be=Object(i.a)(Me,2),ze=Be[0],Fe=Be[1],qe=Object(a.useState)(!1),He=Object(i.a)(qe,2),Ae=He[0],De=He[1],We=Object(a.useState)(!1),_e=Object(i.a)(We,2),Ke=_e[0],Ge=_e[1],Ue=Object(a.useState)(new ee),$e=Object(i.a)(Ue,2),Je=$e[0],Ye=($e[1],Object(a.useState)([])),Xe=Object(i.a)(Ye,2),Qe=(Xe[0],Xe[1]),Ze=Object(a.useState)(null),et=Object(i.a)(Ze,2),tt=et[0],nt=et[1],at=function(){var e=""!==window.location.hash?parseInt(window.location.hash.substr(1)):0;window.location.hash="#".concat(e===P.list.length-1?0:e+1)},rt=function(e){return function(t){return function(){0!==P.list.length&&sessionStorage.setItem("".concat(f).concat(P.list[m].path,"/sample.py"),t),Fe([]),be&&be.setSelection({startColumn:0,endColumn:0,startLineNumber:0,endLineNumber:0}),function(e){return function(t){return function(){return!(!e||!e.load(t))}}}(e)(t)()?le("vs"):le("error")}}};return Object(a.useEffect)(function(){!function(e){fetch("".concat(M,"course"),{headers:B}).then(function(e){if(e.ok)return e.json()}).then(function(t){var n=[],a={},r=!0,o=!1,c=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var u=i.value;"dir"===u.type&&n.push(F(u.path,a))}}catch(l){o=!0,c=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw c}}Promise.all(n).then(function(){return e(a)})})}(g);var e=document.getElementById("puppy-screen");if(e){var t=(new H.PuppyOS).newPuppyVM(e);ne(t)}},[]),Object(a.useEffect)(function(){te&&(te.addEventListener("error",Y(be)("error")),te.addEventListener("warning",Y(be)("warning")),te.addEventListener("info",Y(be)("info")))},[te,be]),Object(a.useEffect)(function(){te&&be&&(te.addEventListener("line",function(e){!function(e,t){return function(n,a){e(function(e){return t.deltaDecorations(e,[{range:new W.Range(n,1,a,1),options:{isWholeLine:!0,className:"code-highlight"}}])})}}(Qe,be)(e.row+1,e.row+1)}),te.addEventListener("action",function(e){"end"==e.action&&"run"==e.type&&function(e,t){return function(){e(function(e){return t.deltaDecorations(e,[])})}}(Qe,be)()}))},[te,be,Qe]),Object(a.useEffect)(function(){!function(e,t,n){if(n){var a=function(t){return e(function(e){return e.concat([t])})};n.addEventListener("stdout",function(e){var t=[];t.push({value:e.text}),a(t)}),n.addEventListener("stderr",function(e){var t=[];t.push({value:e.text,color:"red"}),a(t)}),n.os.addEventListener("changed",function(e){var n=[];e.key in t&&t[e.key]("true"===e.value),n.push({value:'> The env value of key "'.concat(e.key,'" was changed to "').concat(e.value,'" from "').concat(e.oldValue,'". \n')}),a(n)})}}(Fe,{AUTO_PLAY:De,DEBUG:Ge},te),te&&(De("true"===te.os.getenv("AUTO_PLAY",!1)),Ge("true"===te.os.getenv("DEBUG",!1)))},[te]),Object(a.useEffect)(function(){h[f]&&L(h[f])},[f,h]),Object(a.useEffect)(function(){},[Ke,te]),r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{className:"container"},r.a.createElement(b,{courses:h,setIsShowVersion:S,setIsShowSetting:function(){return ke(!0)}}),r.a.createElement(v,{show:w,setShow:S}),r.a.createElement(j,{show:Ce,setShow:ke,value:Te,setValue:Ve,submitValue:X(te)}),r.a.createElement(u.a,{id:"main-row"},r.a.createElement(l.a,{id:"left-col",xs:6},r.a.createElement(R,{course:P,coursePath:f,page:m,content:$,visible:k,play:rt(te),fetchContent:(c=J,function(e,t){var n=window.sessionStorage.getItem("".concat(e).concat(t,"/index.md"));return n?(c(n),new Promise(function(){})):z("".concat(M).concat(e).concat(t,"/index.md")).then(function(e){if(e.ok)return e.text();throw new Error(e.statusText)}).then(function(n){c(n),window.sessionStorage.setItem("".concat(e).concat(t,"/index.md"),n)})}),fetchSample:q(ce)}),r.a.createElement(I,{isCourseVisible:k,isConsoleVisible:Le,setIsCourseVisible:x,setIsConsoleVisible:Re,consoleValue:ze,play:Ae?function(){return Je.play(at)}:rt(te)(oe),fullscreen:D(te),setSize:A(te)})),r.a.createElement(l.a,{id:"right-col",xs:6},r.a.createElement(N,{fontSize:de,theme:ue,source:oe,onChange:G(be,ce,we,Se,te,tt,nt),editorDidMount:(o=Ee,function(e){o(e)}),fontPlus:(t=de,n=pe,function(){n(t+3)}),fontMinus:U(de,pe)})))))},ne=n(314),ae=n(162);c.a.render(r.a.createElement(ne.a,null,r.a.createElement(ae.a,{render:function(e){return r.a.createElement(te,{qs:(t=e.location.search,t.substr(1).split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=n[1],e},{})),hash:e.location.hash});var t}})),document.getElementById("root"))}},[[316,2,3]]]);
//# sourceMappingURL=main.570a9933.chunk.js.map